#include "window.h"

int Window::Init()
{
  if(SDL_Init(SDL_INIT_VIDEO) < 0)
    {
      Debug::Log(ERROR, "SDL error: " + std::string(SDL_GetError()));
      return -1;
    }

  window = SDL_CreateWindow("Cosmo",
			    SDL_WINDOWPOS_UNDEFINED,
			    SDL_WINDOWPOS_UNDEFINED,
			    1280,
			    720,
			    SDL_WINDOW_SHOWN);
  if(window == nullptr)
    {
      Debug::Log(ERROR, "SDL error: " + std::string(SDL_GetError()));
      return -1;
    }

  renderer = SDL_CreateRenderer(window, -1, SDL_RENDERER_ACCELERATED);
  if(renderer == nullptr)
    {
      Debug::Log(ERROR, "SDL error: " + std::string(SDL_GetError()));
      return -1;
    }

  SDL_SetRenderDrawColor(renderer, 0xFF, 0xFF, 0xFF, 0xFF);
  
  SDL_Delay(5000);

  return 0;
}

int Window::Terminate()
{
  SDL_DestroyWindow(window);
  window = nullptr;

  SDL_Quit();

  return 0;
}

SDL_Renderer* Window::GetRenderer()
{
  return renderer;
}
